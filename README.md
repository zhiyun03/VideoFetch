# 🎬 抖音视频去水印下载工具

一个现代化的抖音视频去水印下载工具，支持密码验证、智能下载和优雅的用户界面。

## ✨ 功能特性

### 🔐 安全验证
- **密码保护**：进入页面需要密码验证
- **浏览器缓存**：验证成功后24小时内免输入
- **自动过期**：缓存过期后自动要求重新验证

### 🎨 现代化界面
- **渐变背景**：美观的紫色渐变背景
- **毛玻璃效果**：现代化的半透明卡片设计
- **响应式布局**：完美适配手机和电脑屏幕
- **流畅动画**：页面加载和交互动画效果
- **图标美化**：使用emoji图标提升视觉体验

### 📱 用户体验
- **智能通知**：美观的通知消息系统
- **快捷键支持**：
  - `Ctrl+Enter`：快速解析视频
  - `ESC`：清空输入框
- **自动链接提取**：粘贴时自动识别有效链接
- **操作提示**：首次使用显示快捷键提示

### 🚀 下载功能
- **视频下载**：支持去水印视频下载
- **封面下载**：支持视频封面图片下载
- **多种下载方式**：
  - 直接浏览器下载
  - 新窗口打开保存
  - 链接复制备用
- **防403优化**：解决Referer检查问题

### 🔧 技术优化
- **错误处理**：完善的错误提示和重试机制
- **加载状态**：清晰的解析和下载进度提示
- **跨域处理**：使用Canvas和no-referrer策略
- **兼容性**：支持现代浏览器的各种特性

## 🚀 快速开始

### 1. 启动服务
```bash
# 使用Python启动本地服务器
python3 -m http.server 8000

# 或使用Node.js
npx http-server -p 8000
```

### 2. 访问应用
打开浏览器访问：`http://localhost:8000`

### 3. 使用步骤
1. **输入密码**：默认密码 `123456`
2. **粘贴链接**：将抖音分享链接粘贴到输入框
3. **开始解析**：点击解析按钮或使用 `Ctrl+Enter`
4. **下载内容**：选择下载视频或封面

## 🛠️ 技术架构

### 前端技术
- **HTML5**：语义化标签和现代特性
- **CSS3**：
  - Flexbox布局
  - CSS Grid
  - 渐变和动画
  - 响应式设计
- **JavaScript ES6+**：
  - Async/Await
  - Fetch API
  - LocalStorage
  - Canvas API

### API接口
- **解析接口**：`/api/douyin/web/get_aweme_id`
- **视频信息**：`/api/douyin/web/fetch_one_video`
- **服务器地址**：`http://167.172.216.220`

### 核心功能实现

#### 密码验证系统
```javascript
// 24小时缓存机制
const CACHE_DURATION = 24 * 60 * 60 * 1000;
localStorage.setItem(PASSWORD_CACHE_KEY, 'true');
localStorage.setItem(PASSWORD_EXPIRY_KEY, expiry.toString());
```

#### 防403下载机制
```javascript
// 移除Referer头避免403错误
<meta name="referrer" content="no-referrer">
link.rel = 'noopener noreferrer';
```

#### 图片下载优化
```javascript
// 使用Canvas绕过跨域限制
const canvas = document.createElement('canvas');
const ctx = canvas.getContext('2d');
canvas.toBlob(function(blob) { /* 下载逻辑 */ });
```

## 🎯 使用说明

### 支持的链接格式
- 抖音分享链接（包含 `douyin.com` 域名）
- 支持各种分享格式的自动识别
- 自动提取有效的HTTP/HTTPS链接

### 快捷键操作
| 快捷键 | 功能 |
|--------|------|
| `Ctrl+Enter` | 快速解析视频 |
| `ESC` | 清空输入框并聚焦 |
| `Enter` | 密码输入框确认 |

### 下载选项
1. **视频下载**：
   - 优先尝试直接下载
   - 失败时在新窗口打开
   - 提供链接复制备用方案

2. **封面下载**：
   - Canvas转换下载
   - 新窗口打开备用
   - 自动处理跨域问题

## 🔧 配置选项

### 密码设置
```javascript
const CORRECT_PASSWORD = '123456'; // 修改默认密码
const CACHE_DURATION = 24 * 60 * 60 * 1000; // 缓存时长
```

### API服务器
```javascript
const API_BASE = 'http://167.172.216.220'; // API服务器地址
```

## 📱 响应式设计

### 桌面端 (>768px)
- 最大宽度600px居中显示
- 双列下载按钮布局
- 完整的动画效果

### 移动端 (≤768px)
- 全宽度适配
- 单列按钮布局
- 优化的触摸体验
- 减少内边距适应小屏幕

## 🚨 注意事项

### 浏览器兼容性
- **推荐**：Chrome 80+, Firefox 75+, Safari 13+
- **必需**：支持ES6+, Fetch API, Canvas API
- **功能**：LocalStorage, Clipboard API

### 网络要求
- 需要访问外部API服务器
- 建议稳定的网络连接
- 可能需要处理CORS问题

### 使用限制
- 仅支持抖音平台视频
- 依赖第三方API服务
- 下载速度取决于网络状况

## 🔄 更新日志

### v2.0.0 (2025-09-08)
- ✨ 新增密码验证系统
- 🎨 全新现代化UI设计
- 🚀 优化下载机制
- 📱 完善响应式布局
- 🔧 修复403错误问题
- ⚡ 添加快捷键支持
- 🎯 改进用户体验

### v1.0.0
- 🎬 基础视频解析功能
- 📥 视频和封面下载
- 🔐 简单密码验证

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

### 开发环境设置
1. Clone 项目
2. 启动本地服务器
3. 在浏览器中测试

### 贡献指南
- 遵循现有代码风格
- 添加适当的注释
- 测试新功能的兼容性
- 更新相关文档

## 📞 支持

如有问题或建议，请：
- 提交 GitHub Issue
- 发送邮件反馈
- 查看常见问题解答

---

**⚠️ 免责声明**：本工具仅供学习和研究使用，请遵守相关平台的使用条款和版权规定。